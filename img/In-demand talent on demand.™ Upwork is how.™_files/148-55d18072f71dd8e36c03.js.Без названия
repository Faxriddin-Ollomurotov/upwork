(window.webpackJsonp=window.webpackJsonp||[]).push([[148],{1572:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return d}));var r=n(622),o=n(676);function d({store:e,$http:t,app:n}){function d(){const{user:t}=e.state,r=e.state.orgs&&e.state.orgs.current,{visitor:o}=e.state;return{olog:{userUid:t&&t.id,userNid:t&&t.nid,organizationUid:r&&r.id,organizationTypeTitle:r&&r.typeTitle,visitorId:o.id,visitorApiKey:e.state.tracking.visitorApiKey,mobileNativeApp:n.$isNativeApp},userContext:{user_uid:t&&t.id,organization_uid:r&&r.id,organization_type_title:r&&r.typeTitle,visitor_id:o.id}}}const c=d(),w=c.olog,{userContext:l}=c,h=new o.b(w);h.api=t({auth:e.getters["context/isUser"],handleApiErrors:!1,csrf:!1});const f=()=>e.state.tracking&&e.state.tracking.location,v=new r.l(l),x=new r.v(l,f),C=new r.d,k=new r.w(new r.i,C);return k.addPublisher(new r.k).addPublisher(new r.j).addSubscriber(v,[r.e]).addPublisher(new r.u).addPublisher(new r.t).addSubscriber(x,[r.g]).addPublisher(new r.p).addPublisher(new r.o).addSubscriber(new r.q(h,o.a,f),[r.f]),k.pageView(),k.setUserConfig=()=>{const e=d();h.config=e.olog,v.userContext=e.userContext,x.userContext=e.userContext},k}}}]);